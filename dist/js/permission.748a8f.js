(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{764:function(e,n,t){"use strict";t.r(n);t(89),t(75),t(90);var r={gender:[{id:"1",name:"男"},{id:"2",name:"女"}],role:[{id:"admin",name:"管理员"},{id:"guest",name:"游客"},{id:"editor",name:"编辑"}],articleType:[{id:"1",name:"新闻"},{id:"2",name:"财经"},{id:"3",name:"体育"},{id:"4",name:"娱乐"},{id:"5",name:"游戏"}]},i={getTable:function(e){return r[e]},getIds:function(e){return r[e].map(function(e){return e.id})},getNameById:function(e,n){var t=r[e].find(function(e){return e.id===n}),i="";return t&&(i=t.name),i}},a={data:function(){return{codeMng:i,key:1}},computed:{roles:function(){return this.$store.state.account.roles},currentRoles:{get:function(){return this.roles},set:function(e){this.$store.commit("SET_ROLES",e),this.key++}}},methods:{handleChange:function(e){}}},o=t(67),s=Object(o.a)(a,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("p",[e._v("指令权限通过自定义指令来进行DOM级的控制，DOM不渲染，那么需要通过该DOM元素进行的一系列操作就无法进行。")]),e._v(" "),t("p",[e._v("比如某个信息页面，员工可以查看，领导也可以查看，但是领导还可以审核，那么只需要在这个审核按钮标签上设置指令v-permission=\"['leader'],就可以只对领导显示。")]),e._v(" "),t("br"),e._v(" "),t("div",[e._v("\n    当前角色为：\n    "),e._l(e.roles,function(n,r){return t("span",{key:n},[e._v("\n      "+e._s(e.codeMng.getNameById("role",n))+"\n      "),r<e.roles.length-1?t("span",[e._v("、")]):e._e()])})],2),e._v(" "),t("br"),e._v(" "),t("span",[e._v("点击设置角色：")]),e._v(" "),t("el-radio-group",{on:{change:e.handleChange},model:{value:e.currentRoles,callback:function(n){e.currentRoles=n},expression:"currentRoles"}},[t("el-radio-button",{attrs:{label:["admin"]}},[e._v("管理员")]),e._v(" "),t("el-radio-button",{attrs:{label:["editor"]}},[e._v("编辑")]),e._v(" "),t("el-radio-button",{attrs:{label:["guest"]}},[e._v("游客")])],1),e._v(" "),t("div",{key:e.key},[t("br"),e._v(" "),t("p",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}]},[e._v("\n      只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到，只有管理员才能看得到。\n    ")]),e._v(" "),t("p",{directives:[{name:"permission",rawName:"v-permission",value:["guest","editor"],expression:"['guest','editor']"}]},[e._v("\n      游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到，游客和编辑都可以看到。\n    ")])]),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("p",[e._v("路由权限通过router.addRoutes动态注册路由实现")]),e._v(" "),t("p",[e._v("查看路由权限效果，可以使用账号:admin，以管理员身份登录；账号：guest，以游客身份登录；账号：editor，以编辑身份登录。")])],1)},[],!1,null,null,null).exports;t.d(n,"default",function(){return s})}}]);