(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),i=a(307),l=a(1171),c=a(1175),s=a(592),u=a(1166),f=a(1167),p=a(650),m=a(171);var d=a(847),h=function(e,t){return Math.floor(e+Math.random()*(t-e))},b=function(e){var t=e.getContext("2d"),a=[1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","j","k","l","m","n","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"],n="";t.clearRect(0,0,80,39);for(var r=0;r<4;r++){var o=a[h(0,57)];n+=o,t.font=h(20,25)+"px SimHei",t.fillStyle="#D3D7F7",t.textBaseline="middle",t.shadowOffsetX=h(-3,3),t.shadowOffsetY=h(-3,3),t.shadowBlur=h(-3,3),t.shadowColor="rgba(0, 0, 0, 0.3)";var i=16*(r+1),l=h(-25,25);t.translate(i,19.5),t.rotate(l*Math.PI/180),t.fillText(o,0,0),t.rotate(-l*Math.PI/180),t.translate(-i,-19.5)}return n},y=(a(574),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());var v={labelCol:{span:6},wrapperCol:{span:18}},g=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={varificationCode:""},e.createVerification=function(){e.setState({varificationCode:b(e.canvas)})},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||Object(d.a)(a).then(function(t){sessionStorage.setItem("token",t.data.token),e.props.history.replace("/dashboard")})})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),y(t,[{key:"componentDidMount",value:function(){this.createVerification()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-title"},"后台管理系统"),r.a.createElement(l.a,Object.assign({layout:"horizontal",colon:!0,labelAlign:"left"},v,{onSubmit:this.handleSubmit}),r.a.createElement(l.a.Item,{label:"账    号"},t("username",{initialValue:"admin",rules:[{required:!0,message:"账号不能为空"}]})(r.a.createElement(c.a,{prefix:r.a.createElement(s.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"请输入账号"}))),r.a.createElement(l.a.Item,{label:"密    码"},t("password",{initialValue:"admin123456",rules:[{required:!0,message:"密码不能为空！"},{pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/,message:"密码为6~20位，且需要包含数字和字母！"}]})(r.a.createElement(c.a,{prefix:r.a.createElement(s.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"请输入密码"}))),r.a.createElement(l.a.Item,{label:"验证码"},t("verification",{initialValue:"",rules:[{required:!0,message:"验证码不能为空！"},{pattern:new RegExp(this.state.varificationCode,"i"),message:"验证码有误！"}]})(r.a.createElement(u.a,null,r.a.createElement(f.a,{span:16},r.a.createElement(c.a,{prefix:r.a.createElement(s.a,{type:"property-safety",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"请输入验证码"})),r.a.createElement(f.a,{span:8,style:{height:"40px"}},r.a.createElement("canvas",{onClick:this.createVerification,width:"80",height:"40",style:{cursor:"pointer"},ref:function(t){return e.canvas=t}}))))),r.a.createElement(l.a.Item,{wrapperCol:{span:24}},r.a.createElement(p.a,{type:"primary",htmlType:"submit",block:!0},"登录"))))}}]),t}();var w=Object(i.b)(function(e){return{token:e.token}},function(e){return{saveToken:function(t){return e(function(e){return{type:m.a,token:e}}(t))}}})(l.a.create()(g)),E=Object(o.g)(w);a.d(t,"default",function(){return E})},847:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t){return e({url:"/login",method:"post",data:t})}}).call(this,a(723).default)}}]);